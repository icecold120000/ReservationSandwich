{% extends 'base.html.twig' %}

{% block title %}Modifier votre profil{% endblock %}

{% block body %}
    <main>
        <h1>Modifier votre profil</h1>

        {% for message in app.flashes('SuccessProfile') %}
            <div class="flash-success">
                {{ message }}
            </div>
        {% endfor %}
        <div class="container-fluid formEntitÃ©2" id="formUserProfile">
            {{ form_start(form) }}
                <div id="part1">
                    {{form_label(form.prenomUser)}}
                    <div class="divInput">
                        {{form_widget(form.prenomUser)}}
                    </div>
                    {% if form_errors(form.prenomUser) %}
                        <div class="erreur">
                    	   {{form_errors(form.prenomUser)}}
                        </div>
                    {% endif %}
                    {{form_label(form.nomUser)}}
                    <div class="divInput">
                        {{form_widget(form.nomUser)}}
                    </div>
                    {% if form_errors(form.nomUser) %}
                        <div class="erreur">
                            {{form_errors(form.nomUser)}}
                        </div>
                    {% endif %}
                    {{form_label(form.email)}}
                    <div class="divInput">
                        {{form_widget(form.email)}}
                    </div>
                    {% if form_errors(form.email) %}
                        <div class="erreur">
                            {{form_errors(form.email)}}
                        </div>
                    {% endif %}
                </div>
                <div id="part2">
                    <div class="divInput">
                        {{form_help(form.plainPassword)}}
                        {{form_widget(form.plainPassword)}}
                    </div>
                    {% if form_errors(form.plainPassword) %}
                        <div class="erreur">
                            {{form_errors(form.plainPassword)}}
                        </div>
                    {% endif %}

                </div>
            {{ form_end(form) }}
        </div>
        <div class="row">
            <div id="divAjout">
                <button type="submit" class="btn btn-success" form="formEditProfile">
                    Enregistrer la modification du profil
                </button>
                {% if is_granted('IS_AUTHENTICATED_REMEMBERED')%}
                    {% if is_granted('ROLE_ADMIN')%}
                        <a href="{{ path('profile_admin') }}" 
                        class="btn btn-secondary" id="btnRetour">
                            Revenir sur votre page de profil
                        </a>
                    {% elseif is_granted('ROLE_ELEVE')%}
                        <a href="{{ path('profile_eleve') }}" 
                        class="btn btn-secondary" id="btnRetour">
                            Revenir sur votre page de profil
                        </a>
                    {% elseif is_granted('ROLE_ADULTE')%}
                        <a href="{{ path('profile_adulte') }}"
                        class="btn btn-secondary" id="btnRetour">
                            Revenir sur votre page de profil
                        </a>
                    {% elseif is_granted('ROLE_CUISINE')%}
                        <a href="{{ path('profile_cuisine') }}"
                        class="btn btn-secondary" id="btnRetour">
                            Revenir sur votre page de profil
                        </a>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </main>
{% endblock %}