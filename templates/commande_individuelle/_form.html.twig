{{ form_start(form) }}
    <div id="screenLeft">
        {{ form_label(form.sandwichChoisi) }}
        {% if form_errors(form.sandwichChoisi) %}
            <div class="erreur">
                {{form_errors(form.sandwichChoisi)}}
            </div>
        {% endif %}
        {{ form_widget(form.sandwichChoisi) }}
        <div id="sandwichCarousel" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for sandwich in sandwichs %}
                    <div class="carousel-item {% if loop.index0 == 0 %} active {% endif %}" data-bs-interval="8000">
                        <label for="commande_individuelle_sandwichChoisi_{{ sandwich.id }}">
                            <img src="{{ asset('uploads/imgSandwich/' ~ sandwich.imageSandwich) }}" class="d-block " alt="{{ sandwich.nomSandwich }}-image">
                            <p>{{ sandwich.nomSandwich }}</p>
                            <p>Ingrédients : {{ sandwich.ingredientSandwich ? sandwich.ingredientSandwich : 'Aucune description précisé.'}}</p>
                            <p>Commentaires : {{ sandwich.commentaireSandwich ? sandwich.commentaireSandwich : 'Aucun commentataire précisé.'}}</p>
                            <input type="radio" id="commande_individuelle_sandwichChoisi_{{ sandwich.id }}"
                                   name="commande_individuelle[sandwichChoisi]" value="{{ sandwich.id }}" >
                        </label>
                    </div>
                {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#sandwichCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#sandwichCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div>
            {{ form_label(form.dessertChoisi) }}
            {% if form_errors(form.dessertChoisi) %}
                <div class="erreur">
                    {{form_errors(form.dessertChoisi)}}
                </div>
            {% endif %}
            {{ form_widget(form.dessertChoisi) }}
            <div id="dessertCarousel" class="carousel carousel-dark slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for dessert in desserts %}
                        <div class="carousel-item {% if loop.index0 == 0 %} active {% endif %}" data-bs-interval="8000">
                            <label for="commande_individuelle_dessertChoisi_{{ dessert.id }}">
                                <img src="{{ asset('uploads/imgDessert/' ~ dessert.imageDessert) }}" class="d-block" alt="{{ dessert.nomDessert }}-image">
                                <p>Ingrédients : {{ dessert.ingredientDessert ? dessert.ingredientDessert : 'Aucune description précisée.' }}</p>
                                <p>Commentaires : {{ dessert.commentaireDessert ? dessert.commentaireDessert : 'Aucun commentaire précisé.'}}</p>
                                <input type="radio" name="commande_individuelle[dessertChoisi]" value="{{ dessert.id }}"
                                       id="commande_individuelle_dessertChoisi_{{ dessert.id }}">
                            </label>
                        </div>
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#dessertCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#dessertCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
    <div id="screenRight">
        <div>
            {{ form_label(form.boissonChoisie) }}
            {% if form_errors(form.boissonChoisie) %}
                <div class="erreur">
                    {{form_errors(form.boissonChoisie)}}
                </div>
            {% endif %}
            {{ form_widget(form.boissonChoisie) }}
            <div id="boissonCarousel" class="carousel carousel-dark slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for boisson in boissons %}
                        <div class="carousel-item {% if loop.index0 == 0 %} active {% endif %}" data-bs-interval="8000">
                            <label for="commande_individuelle_boissonChoisie_{{ boisson.id }}">
                                <img src="{{ asset('uploads/imgBoisson/' ~ boisson.imageBoisson) }}" class="d-block " alt="{{ boisson.nomBoisson }}-image">
                                <input type="radio" name="commande_individuelle[boissonChoisie]"
                                       value="{{ boisson.id }}" id="commande_individuelle_boissonChoisie_{{ boisson.id }}">
                            </label>
                        </div>
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#boissonCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#boissonCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
        {{form_label(form.prendreChips)}}
        {% if form_errors(form.prendreChips) %}
            <div class="erreur">
                {{form_errors(form.prendreChips)}}
            </div>
        {% endif %}
        <div class="divInput">
            {{form_widget(form.prendreChips)}}
        </div>
        {{form_label(form.dateHeureLivraison)}}
        {{ form_help(form.dateHeureLivraison) }}
        {% if form_errors(form.dateHeureLivraison) %}
            <div class="erreur">
                {{form_errors(form.dateHeureLivraison)}}
            </div>
        {% endif %}
        <div class="divInput">
            {{form_widget(form.dateHeureLivraison)}}
        </div>
        {{form_label(form.raisonCommande)}}
        {% if form_errors(form.raisonCommande) %}
            <div class="erreur">
                {{form_errors(form.raisonCommande)}}
            </div>
        {% endif %}
        <div class="divInput">
            {{form_widget(form.raisonCommande)}}
        </div>
        <script type="text/javascript">
            function update() {
                const selectRaison = document.getElementById('commande_individuelle_raisonCommande');
                const option = selectRaison.options[selectRaison.selectedIndex];
                const selected = option.text;
                const toDisable = document.getElementById("preciserRaison");

                if (selected === "Autres (à préciser)"){
                    toDisable.style.display = "unset";
                }
                else {
                    toDisable.style.display = "none"
                }
                update();
            }
        </script>
        <div id="preciserRaison">
            {{form_label(form.raisonCommandeAutre)}}
            {% if form_errors(form.raisonCommandeAutre) %}
                <div class="erreur">
                    {{form_errors(form.raisonCommandeAutre)}}
                </div>
            {% endif %}
            {% for message in app.flashes('precisionReason') %}
                <div class="erreur">
                    {{ message }}
                </div>
            {% endfor %}
            <div class="divInput">
                {{form_widget(form.raisonCommandeAutre)}}
            </div>
        </div>
    </div>

{{ form_end(form) }}
